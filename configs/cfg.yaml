# -----------------------------------------------------------------
# 机器翻译 Transformer (IWSLT17 EN-DE) 配置文件
# -----------------------------------------------------------------

# 实验结果保存的根目录
RESULTS_DIR: './results'
# 训练设备: 'cuda:0' (如果可用), 'cuda', 'cpu'
DEVICE: 'cuda:0' 

# --- 数据集路径 ---
train_en_path: './data/processed/train-en.txt'
train_de_path: './data/processed/train-de.txt'
val_en_path: './data/processed/dev-en.txt'
val_de_path: './data/processed/dev-de.txt'
en_vocab_path: './data/vocab/vocab-en.txt'
de_vocab_path: './data/vocab/vocab-de.txt'

# --- 模型超参数 ---
MAX_LEN: 64       # 序列最大长度
D_MODEL: 512      # 词嵌入维度
NUM_LAYERS: 6     # Encoder/Decoder 层数
NUM_HEADS: 8      # 多头注意力头数
D_FF: 2048        # 前馈网络隐藏层维度
DROPOUT: 0.2      # Dropout 比例
USE_POSITIONAL_ENCODING: false # 是否使用位置编码（消融实验）

# --- 训练超参数 ---
EPOCHS: 20
BATCH_SIZE: 32
LR: 0.0001        # 学习率 (1e-4)

# --- 优化超参数 ---
L2_WEIGHT: 0.00001  # L2正则化权重（不设置则默认0）
LABEL_SMOOTHING: 0.1  # 标签平滑比例（不设置则默认0）
USE_SCHEDULER: true  # 是否使用调度器

# --- 学习率调度器参数 ---
SCHEDULER_FACTOR: 0.5  # 每次降低学习率的乘法因子
SCHEDULER_PATIENCE: 1  # 验证指标停止改善后等待的 epoch 数
